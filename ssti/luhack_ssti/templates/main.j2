{% from "macros.j2" import with_errors %}

<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>Company messageboard</title>
    </head>
    <body>
        <form method="POST" action="{{ post_create }}">
            <fieldset>
                <legend>Create post</legend>

                <div>
                    {{ form.name.label }}
                    {{ with_errors(form.name) }}
                </div>
                <div>
                    {{ form.message.label }}
                    {{ with_errors(form.message) }}
                </div>
                <div>
                    <button type="submit">Submit</button>
                </div>
            </fieldset>
        </form>
        <table cellspacing="0" cellpadding="0" border="0">
            {% for (name, content) in posts %}
                <tr>
                    <td>{{ name }}</td>
                    <td>{{ content | dangerous_render }}</td>
                </tr>
            {% endfor %}
        </table>
    </body>
</html>
